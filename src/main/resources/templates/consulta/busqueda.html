<!DOCTYPE html >
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Busqueda Personas</title>
<link href="../../static/css/bootstrap.min.css" rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script> 
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</head>

<body>

	<nav class="navbar navbar-expand-lg navbar navbar-dark bg-primary">
		<a href="#" class="navbar-brand">TestCovid-19</a>
		<button type="button" class="navbar-toggler" data-toggle="collapse"
			data-target="#navbarCollapse2">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarCollapse2">
			<div class="navbar-nav">
				<a href="/consulta" class="nav-item nav-link">Consulta por Fechas</a>
				<a href="/consulta/buscar" class="nav-item nav-link active">Consulta persona</a> 
			</div>
			
			<a class="btn btn-outline-dark" href="#" th:href="@{/logout}">
    			<span th:text="${#authentication.getPrincipal().getUsername()}"></span>
    			<span>->Salir</span>
    			<span class="float-right">
    				<i class="fas fa-sign-out-alt"></i>
    			</span>
    		</a>
    		
    	</nav>


	<h2>Consulta de personas Testeada</h2>
	<br />
	<form class="form-inline" th:action="@{/consulta/buscar}" th:object="${personaTesteada}" method="post">
  		<div class="form-group mb-2">
   		 	<label for="subject">Documento: </label>	
 		 </div>
 		 <div class="form-group mx-sm-3 mb-2">
  			<input class="form-control" type="text" name="documento" th:value="${documento}">  
 	 	 </div>
  		<button type="submit" class="btn btn-primary mb-2" value="Search">Buscar</button>
	</form>
	
	<form class="form-inline" th:action="@{/consulta/buscarPorApellido}" th:object="${personaTesteada}" method="post">
  		<div class="form-group mb-2">
   		 	<label for="subject">Apellido: </label>	
 		 </div>
 		 <div class="form-group mx-sm-3 mb-2">
  			<input class="form-control" type="text" name="apellido" th:value="${apellido}">  
 	 	 </div>
  		<button type="submit" class="btn btn-primary mb-2" value="Search">Buscar</button>
	</form>
	
	
	
           <table class="table table-striped">
			<thead>
				<tr>
					<th>Documento</th>
					<th>Nombre</th>
					<th>Apellido</th>
					<th>Resultado Testeo</th>
				</tr>
			</thead>
			<tbody>
				<tr data-th-each="personaTesteada : ${personas}"> <!--  nombre de la clase  / el otro es el nombre del atributo de controller--> 
					<td data-th-text="${personaTesteada.documento}"></td>
					<td data-th-text="${personaTesteada.nombre}"></td>
					<td data-th-text="${personaTesteada.apellido}"></td>
					<td data-th-text="${personaTesteada.resultadoTesteo}"></td>
				</tr>
			</tbody>

		</table>
</body>
</html>